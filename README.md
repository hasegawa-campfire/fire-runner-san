# FIRE RUNNER SAN

シンプルなランゲーム

[ゲームを表示する](https://hasegawa-campfire.github.io/fire-runner-san/)

## 動作環境

- モダンブラウザ
- PC 推奨
- iOS Safari は未確認

RIP Internet Explorer

## ローカル実行

- 開発環境はありません
- ローカルサーバーを用意して index.html にアクセス

## Firebase

- Authentication
  - 匿名
  - Google 認証
- Cloud Firestore
  - entries のみ要インデックス
    - version 昇順 score 降順、スコープはコレクション
  - セキュリティルールは程よく
- Google Analytics
  - なんとなく

## ゲーム仕様

### 操作方法

- スペース、上矢印、Z キーでジャンプ・スタート
- タッチデバイスは、ページ内のどこをタッチしても有効
- ただしボタン類やユーザー設定内は除く
- リザルト表示の間だけは、タッチがプレイ画面内に制限される
- ジャンプ中、押しっぱなしか 2 度押しでホバリング
- Esc、エンターキーでリセット

### ゲームの終わり

- 制限時間（60 秒）経過
- 穴に落ちる

### ハート

- ハートの数に応じてスピードが上がる
- ハートを取り逃すと 3 個マイナス
- スピードは 100 個分が上限
- 一定距離（1000px）走るごとにハートの数 ×100 をスコア加算

### 目標達成

- スピードの上限を解除
- 穴が出なくなる
- 常にジャンプを求める形でハートが出る

### 記録

- プレイ結果は全て保存される
- ランキングに掲載されるのは各ユーザーの最高点のみ
- プレイ結果はリプレイ可能

### URL

- 通常とリプレイ ID 付きの 2 通り
- リザルト表示の間はリプレイ ID が付く
- 再スタートや、リセットをすると元に戻る
- ランキングの再生や、ID 付き URL を開くとリプレイ画面になる
- ランキング再生、再スタート、リセットでの URL 変化はブラウザバックで戻れる

### シェア

- シェアボタンはその時の URL をシェアする
- シェアの際、自プレイのリザルト表示の間のみ、得点を本文に含める

### ユーザー設定

- 初期は匿名ユーザー
- Google サインインすると、匿名から引き継ぐ形で Google アカウントに昇格する
- ただし過去に昇格したアカウントだったら、匿名から引き継がずに切り替わる
- ユーザーにはスコアと名前が紐付くのみ
- サインイン済みボタンを押すとサインアウトする

## 使用素材

#### Ionicons

https://ionicons.com/

#### Bootstrap Icons

https://icons.getbootstrap.com/

#### PANICPUMPKIN

http://pansound.com/panicpumpkin/

#### SKIPMORE

http://www.skipmore.com/sound/

#### FC 音工房

https://fc.sitefactory.info/
